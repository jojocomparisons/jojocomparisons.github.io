(function(e){"use strict";e.fn.headshrinker=function(r){var n={target:jQuery(this),zindex:99999,shrinkBy:2,fontSize:"",shrinkMenu:!1,revealAlign:"right",revealTop:"12px",shrinkMenuTop:"69px",menuSwitch:768,navTarget:"nav",mobileMenu:!1},r=e.extend(n,r);return this.each(function(){function e(){function e(){Q.css("display","block").stop().animate({top:0},500)}function r(){if(g>=o){if("none"===Q.css("display"))return!1;Q.stop().animate({top:-f},300,function(){Q.css("display","none")})}}function l(){clearTimeout(m),m=setTimeout(y,25)}function y(){var n=p.scrollTop();g=window.innerWidth||document.documentElement.clientWidth,Q.css("width",g),n>=f-25?e():r()}function j(){jQuery(".headshrinker-reveal",Q).remove(),jQuery(".headshrinker-menu",Q).remove(),jQuery(c,Q).hide(),j===!0||o>=g?(jQuery(Q).append('<a class="headshrinker-reveal hs-reveal-'+a+'" href="#nav" style="top:'+h+'px !important">Show Menu</a><div class="headshrinker-menu" />'),jQuery(".headshrinker-menu",Q).css("top",u).css("max-height",p.height()).html(v).hide(),jQuery(".headshrinker-menu ul ul",Q).each(function(){jQuery(this).children().length&&(jQuery(this).hide(),jQuery(this,"li:first").parent().append('<a class="headshrinker-expand" href="#">+</a>'))}),jQuery(".headshrinker-expand").on("click",function(e){e.preventDefault(),jQuery(this).hasClass("headshrinker-clicked")?(jQuery(this).text("+"),jQuery(this).prev("ul").slideUp(300,function(){})):(jQuery(this).text("-"),jQuery(this).prev("ul").slideDown(300,function(){})),jQuery(this).toggleClass("headshrinker-clicked")}),jQuery(".headshrinker-reveal",Q).html("<span /><span /><span />"),jQuery(".headshrinker-reveal",Q).on("click",function(e){e.preventDefault(),jQuery(this).toggleClass(".headshrinker-on"),jQuery(".headshrinker-menu",Q).toggle()})):jQuery(c,Q).show(),d===!0&&o>=g?(n.hide(),e(),jQuery("body").animate({marginTop:u},500)):(n.show(),jQuery("body").animate({marginTop:0},100))}jQuery("body").addClass("headshrinker");var m,Q=jQuery(n).clone().css("position","fixed").addClass("headshrunk"),g=(jQuery("header").outerHeight(),window.innerWidth||document.documentElement.clientWidth);p.load(function(){var e=jQuery("img",Q).outerWidth()/t,r=jQuery("img",Q).outerHeight()/t;jQuery(" img",Q).attr("width",e).attr("height",r);var n=jQuery(Q).css("padding-top").replace("px","").replace("em",""),i=jQuery(Q).css("padding-bottom").replace("px","").replace("em","");jQuery(Q).css("padding-top",n/t),jQuery(Q).css("padding-bottom",i/t),jQuery(" *",Q).each(function(){var e=jQuery(this).css("padding-top").replace("px","").replace("em",""),r=jQuery(this).css("padding-bottom").replace("px","").replace("em",""),n=jQuery(this).css("margin-top").replace("px","").replace("em",""),i=jQuery(this).css("margin-bottom").replace("px","").replace("em","");jQuery(this).css("padding-top",e/t),jQuery(this).css("padding-bottom",r/t),jQuery(this).css("margin-top",n/t),jQuery(this).css("margin-top",i/t)})}),Q.css("width",g).prependTo("body");var f=Q.outerHeight();Q.css("top",-f).css("z-index",i),s&&jQuery(" *",Q).each(function(){jQuery(this).css("font-size",s)});var v=jQuery(c,Q).hide().html();j(),p.on("scroll",l),p.on("resize",l),p.on("resize",j)}var n=r.target,i=r.zindex,t=r.shrinkBy,s=r.fontSize;r.shrinkMenu;var a=r.revealAlign,h=r.revealTop,u=r.shrinkMenuTop,o=r.menuSwitch,c=r.navTarget,d=r.mobileMenu,p=jQuery(window);e()})}})(jQuery);
